# Betaflight 4.4.0-STN

This is Betaflight 4.4 fork by AlexeyStn with three major features:

* Unique ID label on OSD
* Redpine high-resolution aux channel
* Fast startup time

## OSD unique ID label

Функция для пилотов, имеющих несколько идентичных дронов с одинаковыми настройками, 
желающих автоматически выводить разные подписи на OSD. Например, `ALEXEY X`, `ALEXEY Y` и `ALEXEY Z`.

Каждый микроконтроллер STM32 имеет свой уникальный неизменяемый 96-битный идентификатор, зашитый в него на заводе. Его можно увидеть в CLI при выводе `dump` или `diff all` или командой `mcu_id`.<br>
Пример: `mcu_id 0047000e3030510939383634`

При помощи новой команды `uid` можно добавить таблицу, где указывается, какая подпись в OSD должна соответствовать каждому mcu_id. 

```
uid 0 003b001b3538510e34393631 W
uid 1 0023002f3438510831353632 X
uid 2 002c00303538510e34393631 Y
uid 3 0051003a3538510835343631 Z

name Alexey
save
```

В результате при вводе одной и той же таблицы в CLI во все дроны, на каждом будет показываться разное имя пилота: у дрона с идентификатором `0051003...` будет выводиться `ALEXEY Z`, для дрона `002c003...` - `ALEXEY Y` и т.д.

## Redpine high-resolution aux channel

Вместо 8 однобитных aux-каналов (с 9 по 16) протоколом Redpine принимается один 8-битный aux.

Требуется специализированная прошивка мультипротокольного модуля.

```
set redpine_high_res = ON
```

## Установка

1. Скачать HEX-файл для своего микроконтроллера F411/F405/F7X2 со страницы [Releases](https://github.com/alexeystn/betaflight/releases/).
2. В конфигураторе на странице перепрошивки через `Load Firmware [Local]` выбрать скачанный hex.
3. В меню `Choose a Board...` выбрать название своего контроллера. _Обязательно!_
4. Нажать `Flash Firware` и дождаться окончания загрузки.
5. Подключиться `Connect` после успешной прошивки и нажать `Appy Custom Defaults`, когда появится окно с предложением это сделать.
6. Восстановить в конфигураторе свои привычные настройки, которые вы используете в 4.4 и настроить новые функции.


## Контакты

По вопросам работы данной версии пишите мне в Телеграм: [@AlexeyStn](https://t.me/AlexeyStn)
